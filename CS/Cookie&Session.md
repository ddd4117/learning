# Cookie와 Session

HTTP는 **Connectionless, Stateless**한 프로토콜이다.

다른 Request 간의 정보를 공유할 수 없다. 로그인 기능을 만들려고 하는데, 어떤 Client가 로그인을 한 상태인지를 판단하려면 Cookie와 Session을 알아야 한다.



## Cookie

루 몬둘리가 만들어낸 용어로, 유닉스 프로그래머들이 사용한, 프로그램이 수신 후 변경하지 않은 채로 반환하는 데이터 패킷을 의미하는 ''매직 쿠키''라는 용어에서 비롯된 것

- Client에 데이터를 저장하는 수단
- 웹 서버가 브라우저에게 지시하여 사용자의 로컬 컴퓨터에 파일 또는 메모리에 저장하는 작은 기록 정보 파일
- 파일에 담긴 정보는 인터넷 사용자가 같은 웹사이트를 방문할 때마다 새로운 정보로 바뀔 수 있음

### 쿠키(Cookie)의 사용

- 방문 횟수
- 비로그인자의 장바구니 목록
- 클라이언트가 관심 있어하는 항목
- 자동 로그인 허용



### 쿠키(Cookie)의 구성요소

- Name(이름)
- Value(값)
- Expires(만료 날짜)
- Domain(도메인 정보)
- Path(경로 정보)

### 쿠키의 단점

- 사용자 정보가 클라이언트 컴퓨터에 파일로 남고 클라이언트 컴퓨터에 접근할 수 있는 사람이면 누구든지 열어 정보를 확인할 수 있어 쿠키 유출에 대한 문제점을 발생시킨다.



## Session

프로세서들 사이에서 통신을 하기 위해 메시지 교환을 통해 서로를 인식한 이후부터 통신을 마칠 때까지의 기간.

서버가 클라이언트를 식별하는 방법

### 세션 프로세스

- 클라이언트가 서버에 접속시 Session ID를 발급
- 서버에서는 클라이언트로 발급해준 Session ID를 쿠키를 사용해 저장(JSESSIONID)
- 클라이언트는 쿠키(JSESSIONID)를 이용해 서버에 전달

### 세션(Session)의 단점

- 세션 역시 마찬가지로 XSS기법을 이용해 세션ID를 탈취하여 부정하게 로그인하거나 권한을 획득할 수 있어 안전하지는 않다.



**참고자료**

-  https://lazymankook.tistory.com/35 
-  https://jeong-pro.tistory.com/80 
